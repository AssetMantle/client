@import models.blockchain.{ACLHash, Asset, Fiat, Negotiation, Order}
@import models.master.{Organization, Zone}
@import utilities.LoginState

@(username: String, address: String, coins: Int = 0, assetPegWallet: Seq[Asset], fiatPegWallet: Seq[Fiat], totalFiat: Int, zone: Zone, organization: Organization, orders: Seq[Order], negotiations: Seq[Negotiation], aclHash: ACLHash, profilePicture: Array[Byte])( implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState = null)

@common(Messages(constants.User.HOME))(Html(""))(center)(right)

@right = {

    @if(aclHash.buyerExecuteOrder) {
        <a onclick="getForm(jsRoutes.controllers.BuyerExecuteOrderController.unmoderatedBuyerExecuteOrderForm())">@Messages(constants.Form.UNMODERATED_BUYER_EXECUTE_ORDER)</a>
    } <br>
    @if(aclHash.changeBuyerBid) {
        <a onclick="getForm(jsRoutes.controllers.ChangeBuyerBidController.changeBuyerBidForm())">@Messages(constants.Form.CHANGE_BUYER_BID)</a>
    } <br>
    @if(aclHash.changeSellerBid) {
        <a onclick="getForm(jsRoutes.controllers.ChangeSellerBidController.changeSellerBidForm())">@Messages(constants.Form.CHANGE_SELLER_BID)</a>
    } <br>
    @if(aclHash.confirmBuyerBid) {
        <a onclick="getForm(jsRoutes.controllers.ConfirmBuyerBidController.confirmBuyerBidForm())">@Messages(constants.Form.CONFIRM_BUYER_BID)</a>
    } <br>
    @if(aclHash.confirmSellerBid) {
        <a onclick="getForm(jsRoutes.controllers.ConfirmSellerBidController.confirmSellerBidForm())">@Messages(constants.Form.CONFIRM_SELLER_BID)</a>
    } <br>
    @if(aclHash.issueAsset) {
        <a onclick="getForm(jsRoutes.controllers.IssueAssetController.issueAssetRequestForm())">@Messages(constants.Form.ISSUE_ASSET_REQUEST)</a>
    } <br>
    @if(aclHash.issueFiat) {
        <a onclick="getForm(jsRoutes.controllers.IssueFiatController.issueFiatRequestForm())">@Messages(constants.Form.ISSUE_FIAT_REQUEST)</a>
    } <br>
    @if(aclHash.redeemAsset) {
        <a onclick="getForm(jsRoutes.controllers.RedeemAssetController.redeemAssetForm())">@Messages(constants.Form.REDEEM_ASSET)</a>
    } <br>
    @if(aclHash.redeemFiat) {
        <a onclick="getForm(jsRoutes.controllers.RedeemFiatController.redeemFiatForm())">@Messages(constants.Form.REDEEM_FIAT)</a>
    } <br>
    @if(aclHash.releaseAsset) {
        <a onclick="getForm(jsRoutes.controllers.ReleaseAssetController.releaseAssetForm())">@Messages(constants.Form.RELEASE_ASSET)</a>
    } <br>
    @if(aclHash.sellerExecuteOrder) {
        <a onclick="getForm(jsRoutes.controllers.SellerExecuteOrderController.unmoderatedSellerExecuteOrderForm())">@Messages(constants.Form.UNMODERATED_SELLER_EXECUTE_ORDER)</a>
    } <br>
    @if(aclHash.sendAsset) {
        <a onclick="getForm(jsRoutes.controllers.SendAssetController.sendAssetForm())">@Messages(constants.Form.SEND_ASSET)</a>
    } <br>
    @if(aclHash.sendFiat) {
        <a onclick="getForm(jsRoutes.controllers.SendFiatController.sendFiatForm())">@Messages(constants.Form.SEND_FIAT)</a>
    } <br>

    <a onclick="getForm(jsRoutes.controllers.SetBuyerFeedbackController.setBuyerFeedbackForm())">@Messages(constants.Form.SET_BUYER_FEEDBACK)</a>
    <br>
    <a onclick="getForm(jsRoutes.controllers.SetSellerFeedbackController.setSellerFeedbackForm())">@Messages(constants.Form.SET_SELLER_FEEDBACK)</a>
    <br>

}

@center = {
    <div class="flexContainer">
        @component.master.commonHome(username = username, userType = constants.User.TRADER, address = address, coins = coins, profilePicture = profilePicture)
        <div class="flexGrowth flexItem box leftText">
            <div>
                <h2 class="showHide toggleElement centerText">@Messages(constants.Form.ZONE):</h2>
            </div>
            <div>
                @Messages(constants.Form.NAME): @zone.name <br>
                @Messages(constants.Form.ZONE_ID): @zone.id <br>
                @Messages(constants.Form.CURRENCY): @zone.currency <br>
                @Messages(constants.Form.VERIFIED_STATUS): @zone.status <br>
            </div>
        </div>
        <div class="flexGrowth flexItem box leftText">
            <div>
                <h2 class="showHide toggleElement centerText">@Messages(constants.Form.ORGANIZATION):</h2>
            </div>
            <div>
                @Messages(constants.Form.ORGANIZATION_NAME): @organization.name <br>
                @Messages(constants.Form.ORGANIZATION_ID): @organization.id <br>
                @Messages(constants.Form.ORGANIZATION_USERNAME): @organization.accountID <br>
                @Messages(constants.Form.ADDRESS): @organization.address <br>
                @Messages(constants.Form.PHONE): @organization.phone <br>
                @Messages(constants.Form.EMAIL): @organization.email <br>
                @Messages(constants.Form.VERIFIED_STATUS): @organization.status <br>
            </div>
        </div>
    </div>
    <div class="flexContainer">
        <div class="flexGrowth flexItem box leftText">
            <div>
                <h2 class="showHide toggleElement centerText">@Messages(constants.User.ASSETS_OWNED) </h2>
                <div class="centerText">
                @if(aclHash.issueAsset) {
                    <button onclick="getForm(jsRoutes.controllers.IssueAssetController.issueAssetRequestForm())">@Messages(constants.Form.ISSUE_ASSET_REQUEST)</button>
                }
                </div>
            </div>
            <div class="flexContainer">
            @component.master.assetList(assetPegWallet, aclHash)
            </div>
        </div>

        <div class="flexGrowth flexItem box leftText">
            <div>
                <h2 class="showHide toggleElement centerText">@Messages(constants.User.FIATS_OWNED): @totalFiat</h2>
                <div class="centerText">
                    @if(aclHash.issueFiat) {
                        <button onclick="getForm(jsRoutes.controllers.IssueFiatController.issueFiatRequestForm())">@Messages(constants.Form.ISSUE_FIAT_REQUEST)</button>
                    }
                    @if(aclHash.redeemFiat) {
                        <button onclick="getForm(jsRoutes.controllers.RedeemFiatController.redeemFiatForm())">@Messages(constants.Form.REDEEM_FIAT)</button>
                    }
                    @if(aclHash.sendFiat) {
                        <button onclick="getForm(jsRoutes.controllers.SendFiatController.sendFiatForm())">@Messages(constants.Form.SEND_FIAT)</button>
                    }
                </div>
            </div>
            <div class="flexContainer">
            @component.master.fiatList(fiatPegWallet, aclHash)
            </div>
        </div>

        <div class="flexGrowth flexItem box leftText">
            <div>
                <h2 class="showHide toggleElement centerText">@Messages(constants.Form.ON_GOING_NEGOTIATIONS)</h2>
            </div>
            <div class ="flexContainer">@component.master.negotiationList(negotiations)</div>

        </div>
        <div class="flexGrowth flexItem box leftText">
            <div>
                <h2 class="showHide toggleElement centerText">@Messages(constants.Form.ON_GOING_ORDERS)</h2>
            </div>
            <div class="flexContainer">@component.master.orderList(orders)</div>
        </div>
    </div>
}