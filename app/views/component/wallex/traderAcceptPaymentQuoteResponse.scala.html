@import controllers.actions.LoginState
@import views.html.base._

@import transactions.responses.WallexResponse.CreatePaymentQuoteResponse
@(quoteResponse: CreatePaymentQuoteResponse)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState = null)


<legend class="cmuk-legend">
    @Messages(constants.View.WALLEX_QUOTE_RESPONSE)
</legend>
<hr>



<div class="modalInfoBlock">
@quoteResponse.data match {
    case data => {
        @commonTextInfo(constants.View.WALLEX_CURRENCY_PAIR, data.currencyPair)
        @commonTextInfo(constants.View.WALLEX_BUY_CURRENCY, data.buyCurrency)
        @commonTextInfo(constants.View.WALLEX_SELL_CURRENCY, data.sellCurrency)
        @commonDoubleInfo(constants.View.WALLEX_BUY_AMOUNT, data.buyAmount)
        @commonDoubleInfo(constants.View.WALLEX_SELL_AMOUNT, data.sellAmount)
        @commonTextInfo(constants.View.WALLEX_FIXED_SIDE, data.fixedSide)
        @commonDoubleInfo(constants.View.WALLEX_RATE, data.rate)
        @commonDoubleInfo(constants.View.WALLEX_PARTNER_RATE, data.partnerRate)
        @commonDoubleInfo(constants.View.WALLEX_PARTNER_BUY_AMOUNT, data.partnerBuyAmount)
        @commonDoubleInfo(constants.View.WALLEX_PARTNER_SELL_AMOUNT, data.partnerSellAmount)
        @data.partnerPaymentFee match {
            case Some(partnerPaymentFee) => {
                @commonDoubleInfo(constants.View.WALLEX_PARTNER_PAYMENT_FEE, partnerPaymentFee)
            }
            case None => {
                @commonDoubleInfo(constants.View.WALLEX_PARTNER_PAYMENT_FEE, 0.00)
            }

        }
        @commonTextInfo(constants.View.WALLEX_EXPIRES_AT, data.expiresAt)
        @commonTextInfo(constants.View.WALLEX_QUOTE_ID, data.quoteId)
        @commonDoubleInfo(constants.View.WALLEX_CONVERSION_FEE, data.conversionFee)
        @commonDoubleInfo(constants.View.WALLEX_PAYMENT_FEE, data.paymentFee)
        @commonDoubleInfo(constants.View.WALLEX_TOTAL_FEE, data.totalFee)
        @commonDoubleInfo(constants.View.WALLEX_TOTAL_AMOUNT, data.totalAmount)
        @commonTextInfo(constants.View.WALLEX_PAYMENT_CHANNEL, data.paymentChannel)
        @commonDoubleInfo(constants.View.WALLEX_BANK_CHARGE, data.bankCharges)
        @commonBooleanInfo(constants.View.WALLEX_SUPPORTING_DOCUMENT_REQUIRED, Some(data.supportingDocumentsRequired))

        @commonJavascriptButton(constants.Form.WALLEX_TRADER_ACCEPT_PAYMENT_QUOTE_REQUEST.button, JavaScript(s"""getForm(jsRoutes.controllers.WallexController.acceptQuoteForm('${data.quoteId}'))"""))

    }
    case _ => {
        @Messages(constants.View.WALLEX_QUOTE_NOT_RETURNED)
    }

}
</div>
