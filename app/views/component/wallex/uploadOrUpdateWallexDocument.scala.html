@import controllers.actions.LoginState
@import views.html.base._
@import models.wallex.UserKYC

@(wallexDocument: Option[UserKYC], documentType: String)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState = null)

<legend class="cmuk-legend">
    @Messages(constants.View.UPLOAD_WALLEX_KYC)
</legend>
<hr>
<div class="modalInfoBlock centerText">
    @commonModalButton(Seq(Messages(constants.View.UPLOAD), Messages(documentType)).mkString(" "), routes.javascript.FileController.uploadWallexDocumentForm,
                        'parameters -> s"'${documentType}'", 'id -> Seq(constants.View.UPLOAD, documentType).mkString("_"),'class -> "cmuk-button cmuk-button buttonPrimary")
    @wallexDocument match {
        case Some(file) => {
            @component.master.commonDocumentViewer(file) {
                @routes.FileController.getWallexKYCFile(file.fileName, file.documentType)
            } {
                <a href="@routes.FileController.getWallexKYCFile(file.fileName, file.documentType)" target="_blank">@Messages(file.documentType)</a>
            } {
                @commonModalButton(Seq(Messages(constants.View.UPDATE), Messages(file.documentType)).mkString(" "),
                        routes.javascript.FileController.updateWallexKYCForm, 'parameters -> s"'${file.documentType}'")
                <script>hideElement('@Seq(constants.View.UPLOAD, file.documentType).mkString("_")')</script>
            }
            @commonFormButton(constants.Form.WALLEX_SUBMIT_DOCUMENT, 'class -> "cmuk-margin-top buttonPrimary",'parameters -> s"'${documentType}'")
        }
        case None => {}
    }
</div>
