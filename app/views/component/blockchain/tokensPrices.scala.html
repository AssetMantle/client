@import play.api.data.Field
@import views.html.base._
@import views.html.helper.select
@import scala.collection.immutable.ListMap
@import models.masterTransaction.TokenPrice

@(tokenPrices: Seq[TokenPrice], stakingDenom: String, tokenTickers: Seq[utilities.Configuration.TokenTicker])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider)

@commonCard(constants.View.TOKEN_PRICE) {
    <p>$@tokenTickers.find(_.denom == stakingDenom).fold(stakingDenom)(_.normalizedDenom)</p>
} {
    @if(tokenPrices.nonEmpty) {
        @commonLineChart(Seq("tokenPricesChart", stakingDenom).mkString("_"), ListMap(tokenPrices.map(token => token.createdOn.fold("")(x => utilities.Date.getTimeFromSqlTimestamp(x)) -> token.price).reverse: _*), tokenTickers.find(_.denom == stakingDenom).fold(stakingDenom)(_.normalizedDenom), showLegend = false, constants.View.TIME, constants.View.USDT)
    }
@*    <script src="@routes.Assets.versioned("javascripts/tokensPrices.js")" type="text/javascript"></script>*@
}