@import views.html.base._
@import scala.collection.immutable.ListMap

@(uptime: Double, uptimeMap: ListMap[Int, Boolean], hexAddress: String)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider)

@commonCard(constants.View.UPTIME) {
} {
    <div id="missingBlocksCounter" style="display: flex;  flex-wrap: wrap">
    @defining(uptimeMap.keySet.last) { lastHeight =>
        @uptimeMap.map { case (height, present) =>
            @defining(height - lastHeight) { index =>
                <div id="@Seq("missingBlocksCounter", 99 - index).mkString("_")">
                @if(present) {
                    <div class="block" cmuk-tooltip="@height">
                        <div class="full"></div>
                    </div>
                } else {
                    <div class="block" cmuk-tooltip="@height">
                        <div class="empty"></div>
                    </div>
                }
                </div>
            }
        }
    }
    </div>
}