@import views.html.component.blockchain.{search, validators}
@(success: String = "", failure: String = "")(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration)
    @common(Messages(constants.Common.ALL_BLOCKS), success, failure) {
        <script src="@routes.Assets.versioned("javascripts/search.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/averageBlockTimeUpdater.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/lastBlock.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/validators.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/showAllBlocks.js")" type="text/javascript"></script>
        <div>
            @search()
            @validators()
        </div>
        <table id="allBlocksTable">
            <tr>
                <th>@Messages(constants.Common.HEIGHT)</th>
                <th>@Messages(constants.Common.TIME)</th>
                <th>@Messages(constants.Common.NUM_TXS)</th>
            </tr>
            <tbody id="allBlocksTableBody"></tbody>
        </table>
        <script>showALlBlocks("@configuration.get[String]("blockchain.main.ip")" + ":" + "@configuration.get[String]("blockchain.main.abciPort")",  "@configuration.get[String]("blockchain.main.wsIP")" + ":" + "@configuration.get[String]("blockchain.main.abciPort")" + "/websocket", "allBlocksTableBody")</script>
        <button onclick='onClickPrevious("@configuration.get[String]("blockchain.main.ip")" + ":" + "@configuration.get[String]("blockchain.main.abciPort")", "allBlocksTableBody")'>@Messages(constants.Common.PREVIOUS)</button>
        <button onclick='onClickNext("@configuration.get[String]("blockchain.main.ip")" + ":" + "@configuration.get[String]("blockchain.main.abciPort")", "allBlocksTableBody")'>@Messages(constants.Common.NEXT)</button>
}