@import views.html.base.cards._
@import views.html.base.infos._
@import views.html.base.buttons._
@import models.blockchain.Transaction
@import models.blockchain.Block

@(transaction: Transaction, block: Block)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider)

@commonCard(constants.View.TRANSACTION_DETAILS) {
} {
    @commonTextInfo(constants.View.TRANSACTION_HASH, transaction.hash)
    @commonHtmlInfo(constants.View.HEIGHT, commonJavascriptLink(transaction.height.toString, JavaScript(s"componentResource('explorerContent', jsRoutes.controllers.ComponentViewController.block(${transaction.height}))")))
    @commonBooleanInfo(constants.View.STATUS, Option(transaction.status))
    @commonEpochInfo(constants.View.TIME, block.time)
    @commonTextInfo(constants.View.TRANSACTION_FEES, if(transaction.getFee.amount.nonEmpty) transaction.getFee.amount.map(amt => amt.getAmountWithNormalizedDenom()).mkString(", ") else "0")
    @commonIntInfo(constants.View.NUMBER_OF_MESSAGES, transaction.getMessages.length)
    @if(!transaction.status) {
        @commonIntInfo(constants.View.CODE, transaction.code)
        @commonTextInfo(constants.View.LOG, transaction.log)
    }
    @commonTextInfo(constants.View.MEMO, transaction.getMemo)
}