@import controllers.actions.LoginState
@import models.blockchain.Identity
@import views.html.base._
@import views.html.base.cards._
@import views.html.component.blockchain.classification._

@import scala.collection.immutable.ListMap

@(identity: Identity, provisioned: Seq[String], unprovisioned: Seq[String])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: Option[LoginState])

<div class="cmuk-container cmuk-margin-bottom">
    <div class="cmuk-grid-match" cmuk-grid>
        <div class="cmuk-width-expand@@m">
            <div id="identityDetails" class="switcherCard tableViewCard ">
            @commonCard(constants.View.IDENTITY) {
                <span class="stringEllipse" title="@identity.id.asString">@identity.id.asString</span>
            } {
                @commonClassificationIDInfo(identity.id.classificationID)
                @views.html.component.blockchain.properties(mutableProperties = identity.mutables.properties.propertyList, immutableProperties = identity.immutables.properties.propertyList)
            }
            </div>
        </div>
    </div>
    <div class="cmuk-grid-match" cmuk-grid>
        <div class="cmuk-width-expand@@m">
            <div id="identityAddresses" class="switcherCard tableViewCard">
            @commonHorizontalSwitcher(ListMap(
                constants.View.PROVISIONED_ADDRESS_LIST -> views.html.component.blockchain.identity.provisionedAddresses(identity.id.asString, provisioned),
                constants.View.UNPROVISIONED_ADDRESS_LIST -> views.html.component.blockchain.identity.unprovisionedAddresses(unprovisioned),
            ))
            </div>
        </div>
    </div>
</div>
<script>
        checkAndPushState(jsRoutes.controllers.ViewController.identity().url, '@identity.id.asString', "identity");
</script>