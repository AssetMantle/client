@import controllers.actions.LoginState
@import models.masterTransaction.Notification
@import views.html.base._

@(notifications: Seq[Notification])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState)

<div class="timeline recentActivityBox">
    @if(notifications.nonEmpty) {
        @notifications.map { notification =>
            <div class="timeline-item notification">
                <div class="timeline-icon">
                    <svg class="icon"><use xlink:href="@routes.Assets.versioned("images/icons/icons.svg#icon-contract")"/></svg>
                </div>
                <div class="timeline-content right">
                    <div>
                        <div class="textLineOverflow activityContent" title="@notification.title"><span class="cmuk-text-bolder">@Messages(notification.title)</span>
                            @Messages(notification.template, notification.notificationTemplate.parameters: _*)
                        </div>
                        <div class="notificationTime">@notification.createdOn @notification.createdOnTimeZone</div>
                    </div>
                </div>
            </div>
        }
        <div class = "notification NotificationButton"><a onclick="loadMoreActivities(jsRoutes.controllers.NotificationController.recentActivityMessages)">@Messages(constants.View.LOAD_MORE_ACTIVITIES)</a></div>
    } else {
        <div class='cmuk-position-center'>@Messages(constants.View.NO_ACTIVITIES)</div>
    }
</div>
