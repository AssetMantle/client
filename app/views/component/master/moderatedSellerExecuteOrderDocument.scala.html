@import controllers.actions.LoginState
@import models.masterTransaction.NegotiationFile

@import views.html.base.commonModalButton
@import views.html.base.commonFormButton
@(negotiationFile: Option[NegotiationFile] = None, negotiationRequestID: String, documentType: String)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState = null)

<div class="centerText">
    <h4>@Messages(constants.Form.MODERATED_SELLER_EXECUTE_ORDER.legend)</h4>
        <div id="upload@documentType">
@*            <button onclick="getForm(jsRoutes.controllers.FileController.uploadZoneNegotiationForm('@documentType', '@negotiationRequestID'))">@Messages(constants.Form.UPLOAD) @Messages(documentType)</button>*@
            @commonModalButton(constants.Form.UPLOAD + " " + documentType,routes.javascript.FileController.uploadZoneNegotiationForm,'parameters -> s"'${documentType}','${negotiationRequestID}'")
        </div>
    @negotiationFile match {
        case Some(file) => {
            @component.master.commonDocumentViewer(file) {
                @routes.FileController.tradingFile(file.id, file.fileName, file.documentType)
            } {
                <a href="@routes.FileController.tradingFile(file.id, file.fileName, file.documentType)" target="_blank">@Messages(file.documentType)</a>
            } {
@*                <button onclick="getForm(jsRoutes.controllers.FileController.updateZoneNegotiationForm('@file.documentType','@file.id'))">@Messages(constants.Form.UPDATE) @Messages(file.documentType)</button>*@
                @commonModalButton(constants.Form.UPDATE + " " + file.documentType,routes.javascript.FileController.updateZoneNegotiationForm,'parameters -> s"'${file.documentType}','${file.documentType},${file.id}'")
                        <script>hideElement('upload@file.documentType')</script>
            }
@*            <button type="button" class="cmuk-button cmuk-button-primary" onclick="getForm(jsRoutes.controllers.OrderController.moderatedSellerExecuteOrderForm('@file.id'))">@Messages(constants.Form.NEXT)</button>*@
            @commonFormButton(constants.Form.MODERATED_SELLER_EXECUTE_ORDER)
        }
        case None => {}
    }

</div>
