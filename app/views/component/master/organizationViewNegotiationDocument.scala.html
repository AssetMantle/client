@import controllers.actions.LoginState
@import models.Trait.Document

@(id: String, negotiationFile: Option[Document[_]])(implicit messagesProvider: MessagesProvider, loginState: LoginState)

@negotiationFile match {
    case Some(file) => {
        @utilities.FileOperations.fileExtensionFromName(file.fileName) match {
            case constants.File.PNG | constants.File.JPEG | constants.File.JPG | constants.File.JPG_LOWER_CASE | constants.File.PNG_LOWER_CASE |constants.File.JPEG_LOWER_CASE => {
                <figure class="zoom" style='background-image: url(@routes.FileController.organizationAccessedTradingFile(id, file.fileName, file.documentType))' onmousemove='zoom(event)'>
                    <img src='@routes.FileController.organizationAccessedTradingFile(id, file.fileName, file.documentType)' height="800px">
                </figure>
            }
            case _ => {
                <iframe src="@routes.FileController.organizationAccessedTradingFile(id, file.fileName, file.documentType)" width="100%" height="800"></iframe>
            }
        }
    }
    case None => {
        @Messages(constants.View.NEGOTIATION_FILE_NOT_FOUND)
    }
    }

        <script src="@routes.Assets.versioned("javascripts/zoomImage.js")" type="text/javascript"></script>