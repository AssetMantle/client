@import controllers.actions.LoginState
@import models.Trait.Document

@(documents: Seq[Document[_]])(implicit messagesProvider: MessagesProvider, loginState: LoginState = null)

<script src="@routes.Assets.versioned("javascripts/showHideUploadUpdateButton.js")" type="text/javascript"></script>
@for(document <- documents) {
    @component.master.commonDocumentViewer(document) {
        @routes.FileController.file(document.fileName, document.documentType)
    } {
        <a href="@routes.FileController.file(document.fileName, document.documentType)">@Messages(document.documentType)</a>
    } {
        @loginState.userType match {
            case constants.User.GENESIS => {}
            case constants.User.ZONE => {
                <div class="centerText">
                    <button onclick="getForm(jsRoutes.controllers.FileController.updateZoneKycForm('@document.documentType'))">@Messages(constants.Form.UPDATE)</button>
                </div>
            }
            case constants.User.ORGANIZATION => {
                <div class="centerText">
                    <button onclick="getForm(jsRoutes.controllers.FileController.updateOrganizationKycForm('@document.documentType'))">@Messages(constants.Form.UPDATE)</button>
                </div>
            }
            case constants.User.TRADER => {
                <div class="centerText">
                    <button onclick="getForm(jsRoutes.controllers.FileController.updateTraderKycForm('@document.documentType'))">@Messages(constants.Form.UPDATE)</button>
                </div>
            }
            case constants.User.USER => {
                <button id="userUploadButton@loginState.username@document.documentType" class="hidden" onclick="getForm(jsRoutes.controllers.FileController.uploadUserKycForm('@document.documentType'))">@Messages(constants.Form.UPLOAD)</button>
                <button id="userUpdateButton@loginState.username@document.documentType" class="hidden" onclick="getForm(jsRoutes.controllers.FileController.updateUserKycForm('@document.documentType'))">@Messages(constants.Form.UPDATE)</button>
                <script>checkFileExists(jsRoutes.controllers.FileController.checkAccountKycFileExists('@loginState.username', '@document.documentType'), 'userUploadButton@loginState.username@document.documentType', 'userUpdateButton@loginState.username@document.documentType')</script>
            }
            case constants.User.UNKNOWN => {}
            case constants.User.WITHOUT_LOGIN => {}
        }
    }
}