@import controllers.actions.LoginState
@import models.master.Organization
@import views.html.base._

@import models.master.OrganizationUBO
@(ubos: Seq[OrganizationUBO])(implicit messagesProvider: MessagesProvider, loginState: LoginState)

@commonCard(constants.View.UBOS) {
    @if(ubos.nonEmpty) {
        @commonFormButton(constants.Form.ADD_UBO    )
    }
} {
    @if(ubos.isEmpty) {
        <div class="cmuk-position-center">
                @commonFormButton(constants.Form.ADD_UBO)
        </div>
    } else {
        @ubos.map{ubo =>
            @commonInfoBox(){
                @commonTextInfo(constants.View.PERSON_FIRST_NAME, ubo.firstName)
                @commonTextInfo(constants.View.PERSON_LAST_NAME, ubo.lastName)
                @commonDoubleInfo(constants.View.SHARE_PERCENTAGE, ubo.sharePercentage)
                @commonTextInfo(constants.View.RELATIONSHIP, ubo.relationship)
                @commonTextInfo(constants.View.TITLE, ubo.title)
                @commonFormButton(constants.Form.DELETE_UBO,'parameters -> s"'${ubo.id}'")
            }
        }
    }
}