@import controllers.actions.LoginState
@import helper._
@import views.html.base._

@(uploadRoute:String, updateRoute:String, documentType: String, id: String = "")(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState = null)

@CSRF.formField
<div id="updateSelector" class="centerText">
    <button type="button" class="cmuk-button cmuk-button-primary" id="browseUpdateButton">@Messages(constants.Form.BROWSE)</button>
    <p class="centerText"><small>@Messages(constants.Form.OR)</small></p>
    <div class="dropBox">
        <p class="centerText"><small>@Messages(constants.Form.DROP_FILE)</small></p>
    </div>
</div>

<div id="updater" class="hidden centerText">
    <a id = "fileName"></a>
    <br>
    <div id="updateControls">
        <div class="progressContainer">
            <div class="progressBar" id="fileUpdateProgressBar"></div>
        </div>
        <button type="button" class="cmuk-button cmuk-button-primary" id="updateButton" >@Messages(constants.Form.UPDATE)</button>
    </div>
</div>

<div id="updateCompletionMessage" class="hidden"></div>

<script src="@routes.Assets.versioned("javascripts/resumable.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/upload.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/style/progressBar.js")" type="text/javascript"></script>
<script>updateFile(@uploadRoute, @updateRoute, '@documentType', '@id')</script>