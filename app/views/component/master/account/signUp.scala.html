@import controllers.actions.LoginState
@import views.companion.master.account.SignUp
@import views.html.base._
@import views.html.base.form._
@import views.html.helper.inputText

@(signUpForm: Form[SignUp.Data] = SignUp.form)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, loginState: LoginState = null)
<div class="signUpForm">
    @commonForm(constants.Form.SIGN_UP, signUpForm) {
        <p class="sub-title">@Messages(constants.View.SIGNUP_FORM_SUBTITLE)</p>
        <div class="inputField">
            <div class="inputFieldBody">
                <div class="usernameAvailability">
                    @commonInputText(signUpForm, constants.FormField.USERNAME, 'oninput -> """checkUsernameAvailable(this, "#USERNAME_AVAILABLE")""", 'onfocus -> """moveLabelTop(this)""", 'onblur -> """moveLabelBottom(this)""")
                    <div id="checkUsernameAvailableResult" class="result failureIcon">
                    @commonIcon("failRounded")
                    </div>
                    <div class="checkIcon" id="checkIcon">
                    @commonIcon("success")
                    </div>
                </div>
            </div>
        </div>
        <div class="inputField">
            <div class="inputFieldBody">
                <div class="usernameAvailability">
                    @commonInputPassword(signUpForm, constants.FormField.SIGNUP_PASSWORD, 'id -> "signUpPassword", 'onfocus -> """moveLabelTop(this)""", 'onblur -> """moveLabelBottom(this)""")
                    <div id="matchPasswordsResult" class="result"></div>
                </div>
            </div>
        </div>
        <div class="inputField">
            <div class="inputFieldBody">
                <div class="usernameAvailability">
                    @commonInputPassword(signUpForm, constants.FormField.SIGNUP_CONFIRM_PASSWORD, 'oninput -> "checkPasswords()", 'id -> "signUpConfirmPassword", 'onfocus -> """moveLabelTop(this)""", 'onblur -> """moveLabelBottom(this)""")
                    <div id="matchConfirmPasswordsResult" class="result">
                        <span class="passwordNotMatched error">@Messages(constants.View.REPEAT_PASSWORD_MISMATCH)</span>
                    </div>
                    <div class="showPassword" id="showPassword" onclick="showPassword()">
                        <span class="eyeIcon closeEye">
                        @commonIcon("eye")
                        </span>
                        <span class="eyeIcon openEye hidden">
                        @commonIcon("openEye")
                        </span>
                    </div>
                </div>
            </div>
        </div>
        @commonCheckbox(signUpForm, constants.FormField.USERNAME_AVAILABLE, 'containerDivClass -> "hidden")

        <div class="alternateFormText">
            <span class="text">@Messages(constants.View.SIGNUP_FORM_SIGNIN_MSG)
                <a onclick="openAlternateForm(jsRoutes.controllers.AccountController.signInForm())" class="text formLink">@Messages(constants.View.SIGNUP_FORM_SIGNIN_URL)</a>
            </span>
        </div>
    }
</div>
<script src="@routes.Assets.versioned("javascripts/signUp.js")" type="text/javascript"></script>