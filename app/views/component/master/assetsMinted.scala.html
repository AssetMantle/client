@import controllers.actions.LoginState
@import models.master.{Asset, Split}
@import views.html.base._

@(assets: Seq[Asset], splits: Seq[Split])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState)

@commonCard(constants.View.ASSETS_MINTED) {
} {
    @splits.map { split =>
        @commonVerticalInfoBox() {
            @defining(assets.find(_.id == split.ownableID)) { asset =>
                @commonVerticalTextInfo(constants.View.ASSET_ID, split.ownableID)
                @commonVerticalTextInfo(constants.View.LABEL, asset.fold("")(_.label.getOrElse("")))
                <div class="listItemChild cmuk-flex cmuk-flex-middle">
                @commonFormButton(constants.Form.UPSERT_ENTITY_LABEL, 'parameters -> s"'${split.ownableID}', '${constants.Blockchain.Entity.ASSET}'")
                </div>
                @commonVerticalBooleanInfo(constants.View.STATUS, asset.fold[Option[Boolean]](None)(_.status))
                <div class="listItemChild cmuk-flex cmuk-flex-middle">
                    @commonModalButton(constants.View.PROPERTIES, routes.javascript.EntityController.properties, 'parameters -> s"'${split.ownableID}', '${constants.Blockchain.Entity.ASSET}'")
                </div>
                <div class="listItemChild cmuk-flex cmuk-flex-middle">
                    @commonFormButton(constants.Form.ASSET_MUTATE, 'parameters -> s"'${split.ownableID}', '${split.ownerID}'")
                </div>
                <div class="listItemChild cmuk-flex cmuk-flex-middle">
                    @commonFormButton(constants.Form.ASSET_BURN, 'parameters -> s"'${split.ownableID}', '${split.ownerID}'")
                </div>
                <div class="listItemChild cmuk-flex cmuk-flex-middle">
                    @commonFormButton(constants.Form.SPLIT_SEND, 'parameters -> s"'${split.ownableID}', '${split.ownerID}'")
                </div>
            }
        }
    }
}