@import helper._
@import views.companion.master.NotificationBox

@(notificationList : Seq[models.masterTransaction.Notification]=null, pageNumber: Int, limit : Int, unread: Int)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash)
    <head>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/notifications.css")">
    </head>
    <body onload="toggle(@pageNumber)">
                <li id="noti_Container">
                    <div id="noti_Counter"></div>
                    <div id="noti_Button"></div>
                    <div id="notifications">
                        <div id = "unread" style="display: none" data-value = @unread.toString()></div>
                        <h3>Notifications</h3>
                        <div id="notificationBox" style="height:500px;">
                            @if(notificationList != null){
                                @for(i <- 0 to (notificationList.length - 1)) {
                                @if(notificationList(i).read){
                                    <div id=@i class="element">
                                        <div onclick="markNotificationAsRead(@i,'@notificationList(i).id')" >
                                        </br>
                                            @notificationList(i).notificationTitle + @notificationList(i).notificationMessage
                                        </br>
                                        </div>
                                    </div>
                                }else{
                                    <div id=@i class="element" style="background-color:#80c846" >
                                        <div onclick="markNotificationAsRead(@i,'@notificationList(i).id')">
                                            </br>
                                            @notificationList(i).notificationTitle + @notificationList(i).notificationMessage
                                            </br>
                                        </div>
                                    </div>
                                }
                            }
                            }

                        </div>
                        <div class="seeAll">
                             @if(pageNumber!=1) { <div  onclick="changeNotificationPage(@pageNumber-1)" class="previous">&laquo; Previous || </div> }
                             @if(notificationList != null) {
                                @if(notificationList.length == limit) {
                                    <div onclick="changeNotificationPage(@pageNumber+1)" class="next">Next &raquo;</div>
                                }
                            }
                        </div>
                    </div>
                </li>
    </body>
<script>
</script>
    <script src="@routes.Assets.versioned("/javascripts/firebase.js")"></script>
    <script src="@routes.Assets.versioned("/javascripts/pushNotification.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/jQuery.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/notificationBox.js")" type="text/javascript"></script>

