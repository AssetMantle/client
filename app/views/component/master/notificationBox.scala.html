@import helper._
@import views.companion.master.NotificationBox

@(notificatonList : Seq[models.masterTransaction.Notification]=null, pageNumber: Int, limit : Int, unread: Int)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash)
@common(Messages(constants.Forms.NOTIFICATION_BOX)) {
    <head>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/notifications.css")">
    </head>
    <body style="margin:0;padding:0;" onload="toggle(@pageNumber)">
        <div>
            <ul>
                <li id="noti_Container">
                    <div id="noti_Counter"></div>
                    <div id="noti_Button"></div>
                    <div id="notifications">
                        <div id = "unread" style="display: none" data-value = @unread.toString()></div>
                        <h3>Notifications</h3>
                        <div id="notificationBox" style="height:300px;">
                            @for(i <- 0 to (notificatonList.length - 1)) {
                                @if(notificatonList(i).read){
                                    <div id=@i class="element">
                                        <div onclick="markNotificationAsRead(@i,'@notificatonList(i).id')" >
                                        </br>
                                            @notificatonList(i).notificationTitle + @notificatonList(i).notificationMessage
                                        </br>
                                        </div>
                                    </div>
                                }else{
                                    <div id=@i class="element" style="background-color:#80c846" >
                                        <div onclick="markNotificationAsRead(@i,'@notificatonList(i).id')">
                                            </br>
                                            @notificatonList(i).notificationTitle + @notificatonList(i).notificationMessage
                                            </br>
                                        </div>
                                    </div>
                                }
                            }

                        </div>
                        <div class="seeAll">
                             @if(pageNumber!=1) { <div  onclick="changeNotificationPage(@pageNumber-1)" class="previous">&laquo; Previous || </div> }
                             @if(notificatonList.length == limit) {<div onclick="changeNotificationPage(@pageNumber+1)" class="next">Next &raquo;</div> }
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div style="font-size:90%;font-style:italic;color:#CCC;border:none;text-align:left;margin:20px 10px;">Click the Circle to show the Notification Window</div>
    </body>
<script>
</script>
    <script src="@routes.Assets.versioned("/javascripts/firebase.js")"></script>
    <script src="@routes.Assets.versioned("/javascripts/pushNotification.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/jQuery.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/notificationBox.js")" type="text/javascript"></script>
}
