@import controllers.actions.LoginState
@import views.html.base._
@import models.masterTransaction.ChatWindow
@import models.masterTransaction.ChatWindowParticipant

@(chatWindows: Seq[ChatWindow], chatWindowParticipants: Seq[ChatWindowParticipant])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState)


    @commonInfoBox(){
    @for(chatWindow <- chatWindows){
        <div class="chatList">
            <button onclick="componentResource('chatWindow', jsRoutes.controllers.TradeRoomController.chatWindow('@chatWindow.id', 0))" title="@chatWindowParticipants.filter(_.chatWindowID==chatWindow.id).filterNot(_.accountID==loginState.username).map(_.accountID).mkString">@chatWindowParticipants.filter(_.chatWindowID==chatWindow.id).filterNot(_.accountID==loginState.username).map(_.accountID).mkString.substring(0, 1)</button>
        </div>
    }
    <div id="chatWindow">
    </div>
    }
    <script>
            noActivity();
    </script>
