@import controllers.actions.LoginState
@import views.html.base._
@import models.masterTransaction.Chat

@(chatID: String, chats: Seq[Chat])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState)

@commonInfoBox() {
    <div class="chatList">
    @commonComponentButton("chatWindow", chats.filter(_.id == chatID).filterNot(_.accountID == loginState.username).map(_.accountID).mkString.substring(0, 1), routes.javascript.ChatController.chatWindow, 'parameters -> s"'${chatID}', 0")
    </div>
    <div id="chatWindow"></div>
    <script>
            componentResource('chatWindow', jsRoutes.controllers.ChatController.chatWindow('@chatID', 0))
    </script>
}
<script src="@routes.Assets.versioned("javascripts/chatRoom.js")" type="text/javascript"></script>

