@import controllers.actions.LoginState
@import helper._
@import models.master.Zone
@import views.companion.master.AddOrganization

@(addOrganizationForm: Form[AddOrganization.Data], zones: Seq[Zone])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState = null)
@form(action = routes.AddOrganizationController.addOrganization, 'onkeypress -> "validateForm(event,this)") {
    <div class="latest_card-header latest_card-header-primary text-center">
        <h4 class="latest_card-title">@Messages(constants.Form.ADD_ORGANIZATION)</h4>
    </div>
    <div class="latest_card-body">
        @CSRF.formField
        <div id="allZones">
        @for(zone <- zones) {
            <button type="button" class="btn-sm btn btn-primary" onclick="fillZoneIDField('@zone.id')">@Messages(constants.Form.NAME)
                : @zone.name <br>
                @Messages(constants.Form.CURRENCY): @zone.currency <br>
                @Messages(constants.Form.ZONE_ID): @zone.id <br>
            </button>
            <br>
            }
        </div>
        @inputText(addOrganizationForm(constants.FormField.ZONE_ID.name), '_label -> Messages(constants.FormField.ZONE_ID.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ZONE_ID.name), 'id -> "zoneID", 'required -> true)
        @inputText(addOrganizationForm(constants.FormField.NAME.name), '_label -> Messages(constants.FormField.NAME.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.NAME.name), 'required -> true)
        @inputText(addOrganizationForm(constants.FormField.ABBREVIATION.name), '_label -> Messages(constants.FormField.ABBREVIATION.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ABBREVIATION.name), 'required -> false)
        @inputDate(addOrganizationForm(constants.FormField.ESTABLISHMENT_DATE.name), '_label -> Messages(constants.FormField.ESTABLISHMENT_DATE.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ESTABLISHMENT_DATE.name), 'required -> true)
        @inputText(addOrganizationForm(constants.FormField.EMAIL_ADDRESS.name), '_label -> Messages(constants.FormField.EMAIL_ADDRESS.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.EMAIL_ADDRESS.name), 'required -> true)

        @Messages(constants.Form.REGISTERED_ADDRESS):
        @defining(constants.Form.REGISTERED_ADDRESS) { implicit prefix =>
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.ADDRESS_LINE_1.name)), '_label -> Messages(constants.FormField.ADDRESS_LINE_1.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ADDRESS_LINE_1.name), 'id -> "registeredAddressLine1", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.ADDRESS_LINE_2.name)), '_label -> Messages(constants.FormField.ADDRESS_LINE_2.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ADDRESS_LINE_2.name), 'id -> "registeredAddressLine2", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.LANDMARK.name)), '_label -> Messages(constants.FormField.LANDMARK.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.LANDMARK.name), 'id -> "registeredLandmark", 'required -> false)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.CITY.name)), '_label -> Messages(constants.FormField.CITY.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.CITY.name), 'id -> "registeredCity", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.COUNTRY.name)), '_label -> Messages(constants.FormField.COUNTRY.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.COUNTRY.name), 'id -> "registeredCountry", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.ZIP_CODE.name)), '_label -> Messages(constants.FormField.ZIP_CODE.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ZIP_CODE.name), 'id -> "registeredZipCode", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.PHONE.name)), '_label -> Messages(constants.FormField.PHONE.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.PHONE.name), 'id -> "registeredPhone", 'required -> true)
        }
        <div>
            @Messages(constants.Form.SAME_AS_REGISTERED_ADDRESS):
            @checkbox(Field(form = Form(constants.FormField.SEARCH_TX_HASH_HEIGHT.field), name = constants.FormField.SEARCH_TX_HASH_HEIGHT.name, constraints = Seq(), format = None, errors = Seq(), value = None), 'id -> "organizationKYCSameAsRegisteredAddress", 'label -> Messages(constants.Form.SAME_AS_REGISTERED_ADDRESS))
        </div>

        @Messages(constants.Form.POSTAL_ADDRESS):
        @defining(constants.Form.POSTAL_ADDRESS) { implicit prefix =>
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.ADDRESS_LINE_1.name)), '_label -> Messages(constants.FormField.ADDRESS_LINE_1.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ADDRESS_LINE_1.name), 'id -> "postalAddressLine1", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.ADDRESS_LINE_2.name)), '_label -> Messages(constants.FormField.ADDRESS_LINE_2.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ADDRESS_LINE_2.name), 'id -> "postalAddressLine2", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.LANDMARK.name)), '_label -> Messages(constants.FormField.LANDMARK.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.LANDMARK.name), 'id -> "postalLandmark", 'required -> false)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.CITY.name)), '_label -> Messages(constants.FormField.CITY.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.CITY.name), 'id -> "postalCity", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.COUNTRY.name)), '_label -> Messages(constants.FormField.COUNTRY.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.COUNTRY.name), 'id -> "postalCountry", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.ZIP_CODE.name)), '_label -> Messages(constants.FormField.ZIP_CODE.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.ZIP_CODE.name), 'id -> "postalZipCode", 'required -> true)
            @inputText(addOrganizationForm(utilities.String.nestedFormField(constants.FormField.PHONE.name)), '_label -> Messages(constants.FormField.PHONE.name), 'class -> "form-control", 'placeholder -> Messages(constants.FormField.PHONE.name), 'id -> "postalPhone", 'required -> true)
        }

        @if(addOrganizationForm.hasGlobalErrors) {
            <ul>
            @for(error <- addOrganizationForm.globalErrors) {
                <li>@error.format</li>
            }
            </ul>
        }
        <button type="button" class="btn-sm btn btn-primary" onclick="submitForm(this)">@Messages(constants.Form.NEXT)</button>
    </div>
    <script src="@routes.Assets.versioned("javascripts/addOrganization.js")" type="text/javascript"></script>
}