@import controllers.actions.LoginState

@(coins: String = "0", profilePicture: Array[Byte])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState = null)


<div class="container ">
    <div class="card">
        <div class="row ">
            <div class="col-md-4 ">
                <div class="profile_hover">
                @if(profilePicture sameElements Array[Byte]()) {
                    <img id="profilePicture" class="profilePicture" src="@routes.Assets.versioned("images/defaultProfilePicture.jpg")" alt="@constants.Form.PROFILE_PICTURE">
                    <br>
                    <button id="profilePictureBottomUploadButton" class="bottom btn btn-default btn-sm" onclick="getForm(jsRoutes.controllers.FileController.uploadAccountFileForm('@constants.File.PROFILE_PICTURE'))">@Messages(constants.Form.UPLOAD)</button>
                } else {
                    <img id="profilePicture" class="profilePicture" src="data:image/jpg;base64,@utilities.ImageProcess.decodeImageThumbnailData(profilePicture)" alt="@constants.Form.PROFILE_PICTURE">
                    <br>
                    <button id="profilePictureBottomUploadButton" class="bottom btn btn-default btn-sm" onclick="getForm(jsRoutes.controllers.FileController.updateAccountFileForm('@constants.File.PROFILE_PICTURE'))">@Messages(constants.Form.UPDATE)</button>
                }
                </div>
            </div>
            <div class="col-md-8 px-3">
                <div class="card-block px-3">
                    <h2 class="card-title">@loginState.username</h2>
                    <p> @Messages(constants.User.COINS): @coins</p>
                    <button class="text-center btn btn-primary btn-sm" onclick="getForm(jsRoutes.controllers.SendCoinController.sendCoinForm())">@Messages(constants.Form.SEND_COIN)</button>

                    <p> @Messages(constants.User.USER_TYPE): @loginState.userType </p>

                    <p> @Messages(constants.User.ADDRESS):<span id="text_element" class="hash_code"> @loginState.address</span> <span onclick="copyToClipboard('text_element')"> <i class="fa fa-clipboard"></i></span></p>

                </div>
            </div>

        </div>
    </div>
</div>


<script type="text/javascript">
        var accountCometMessage = function (event) {
            console.log(event.toString());
            componentResource('commonHome', jsRoutes.controllers.ComponentViewController.commonHome());
        }
</script>
<iframe class="hidden" src="@routes.ComponentViewController.accountComet"></iframe>