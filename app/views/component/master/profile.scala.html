@import controllers.actions.LoginState

@()(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, flash: Flash, configuration: play.api.Configuration, loginState: LoginState = null)

@views.html.common(Messages(constants.Form.PROFILE))(Html(""))(center)(Html(""))

@center = {
    <div class="cmuk-container">
        <div class="cmuk-grid-medium cmuk-grid cmuk-grid-match" cmuk-grid>
            <div class="cmuk-width-1-1 cmuk-width-1-4@@m cmuk-first-column">
                <div class="cmuk-card cmuk-card-default cmuk-card-small cmuk-sticky cmuk-card-body">
                    <div id="profilePhoto" class="centerText"></div>
                </div>
            </div>

            <div class="cmuk-width-1-1 cmuk-width-expand@@m">
                <div class="cmuk-card cmuk-card-default cmuk-card-small cmuk-card-body">
                    <h2 class="card-title">@loginState.username</h2>
                    <p>
                        @Messages(constants.User.USER_TYPE): <span>@loginState.userType</span>
                        <button type="button" class="cmuk-button cmuk-button-link" onclick="getForm(jsRoutes.controllers.AccountController.changePasswordForm())">@Messages(constants.Form.CHANGE_PASSWORD.button)</button>
                    </p>
                    <p>
                        @Messages(constants.Form.BLOCKCHAIN_ADDRESS)
                        : <span id="blockchainAddress" class="hashCode">@loginState.address</span>
                        <a class="cmuk-icon-button" cmuk-icon="copy" onclick="copyToClipboard('blockchainAddress')"></a>
                    </p>
                    <p id="profileContact"></p>
                </div>
            </div>
        </div>
    </div>
    <section class="cmuk-section cmuk-section-small">
        <div class="cmuk-container">
            <div class="cmuk-card cmuk-card-default cmuk-card-small cmuk-card-body">
                <div class="cmuk-child-width-1-2@@s" cmuk-grid>
                    <div>
                        <div cmuk-grid>
                            <div class="cmuk-width-auto@@m">
                                <ul class="cmuk-tab-left" cmuk-tab="connect: #component-tab-left; animation: cmuk-animation-fade">
                                    <li><a href="#">@Messages(constants.Form.DOCUMENTS)</a></li>
                                    <li><a href="#">@Messages(constants.Form.ACL)</a></li>
                                </ul>
                            </div>
                            <div class="cmuk-width-expand@@m">
                                <ul id="component-tab-left" class="cmuk-switcher">
                                    <li>
                                        <div id="profileDocuments"></div>
                                    </li>
                                    <li>
                                        <div id="profileACL"> @loginState.acl match {
                                            case Some(acl) => {
                                                <p>@Messages(constants.Form.ISSUE_ASSET): @if(acl.issueAsset) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>
                                                <p>

                                                    @Messages(constants.Form.ISSUE_FIAT) : @if(acl.issueFiat) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>
                                                <p>
                                                    @Messages(constants.Form.SEND_ASSET): @if(acl.sendAsset) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.SEND_FIAT): @if(acl.sendFiat) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.REDEEM_ASSET): @if(acl.redeemAsset) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.REDEEM_FIAT):@if(acl.redeemFiat) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.FormField.BUYER_EXECUTE_ORDER.name): @if(acl.buyerExecuteOrder) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.SELLER_EXECUTE_ORDER): @if(acl.sellerExecuteOrder) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.NEGOTIATION): @if(acl.negotiation) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.FormField.CHANGE_BUYER_BID.name): @if(acl.changeBuyerBid) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.CHANGE_SELLER_BID): @if(acl.changeSellerBid) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.CONFIRM_BUYER_BID): @if(acl.confirmBuyerBid) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.CONFIRM_SELLER_BID): @if(acl.confirmSellerBid) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>

                                                <p>
                                                    @Messages(constants.Form.RELEASE_ASSET): @if(acl.releaseAsset) {
                                                    <span cmuk-icon="check"></span>
                                                } else {
                                                    <span cmuk-icon="close"></span>
                                                    <br>
                                                    }
                                                </p>
                                            }
                                            case _ => {}
                                        }
                                        </div >
                                    </li >
                                </ul >
                            </div >
                        </div >
                    </div >
                </div >
            </div >
        </div >
    </section >
    <script>
            componentResource('profilePhoto', jsRoutes.controllers.ComponentViewController.profilePicture());
            componentResource('profileContact', jsRoutes.controllers.ContactController.contact());
            componentResource('profileDocuments', jsRoutes.controllers.ComponentViewController.profileDocuments())
    </script>
}
