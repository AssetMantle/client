@import controllers.actions.LoginState
@import models.kycCheck.worldcheck.WorldCheckScreeningCheck
@import models.kycCheck.worldcheck.WorldCheckKyc

@(kycID: String, kycChecks: Seq[WorldCheckScreeningCheck], kycList: WorldCheckKyc)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState)

@if(loginState.username == kycList.requester) {
    <ul class="documentList scroller">
        <li>
            <table class="table-scroll small-first-col cmuk-table cmuk-table-divider">
                <tbody>
                    <tr><td colspan="4">@Messages(constants.View.CHECKS):</td></tr>
                    @kycChecks.map { kycCheck =>
                        <tr>
                            <td colspan="4">@Messages(kycCheck.checkType):</td>

                            @kycCheck.status match {
                                case (status) => {
                                    <td class="cmuk-text-center">
                                    @if(status == constants.View.APPROVED) {
                                        <span class="cmuk-badge approve">@constants.View.APPROVED</span>
                                    } else {
                                        @if(status == "INITIATE") {
                                            <span class="cmuk-badge approve">@constants.View.INITIATE</span>
                                        } else {
                                            @if(status == "IN_PROGRESS") {
                                                <span class="cmuk-badge cmuk-progress">@constants.View.IN_PROGRESS</span>
                                            }
                                        }
                                    }
                                    </td>
                                }
                                case _=> {
                                    <td colspan="2"></td>
                                }

                            }
                        </tr>
                    }
                </tbody>
            </table>
        </li>
    </ul>
} else {
    @if(loginState.username == kycList.counterParty) {
        <ul class="documentList scroller">
            <li>
                <table class="table-scroll small-first-col cmuk-table cmuk-table-divider">
                    <tbody>
                        <tr><td colspan="4">@Messages(constants.View.CHECKS):</td></tr>
                        @kycChecks.map { kycCheck =>
                            <tr>
                                <td colspan="4">@Messages(kycCheck.checkType):</td>

                                @kycCheck.status match {
                                    case (status) => {
                                        <td class="cmuk-text-center">
                                        @if(status == constants.View.APPROVED) {
                                            <span class="cmuk-badge approve">@constants.View.APPROVED</span>
                                        } else {
                                            @if(status == "PENDING") {
                                                <span class="cmuk-badge approve">@constants.View.PENDING</span>
                                            } else {
                                                @if(status == "IN_PROGRESS") {
                                                    <span class="cmuk-badge cmuk-progress">@constants.View.IN_PROGRESS</span>
                                                }
                                            }
                                        }
                                        </td>
                                    }
                                    case _=> {
                                        <td colspan="2"></td>
                                    }

                                }
                            </tr>
                        }
                    </tbody>
                </table>
            </li>
        </ul>
    }
}