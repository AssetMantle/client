@import controllers.actions.LoginState
@import models.kycCheck.worldcheck.WorldCheckScreeningCheck
@import models.kycCheck.worldcheck.WorldCheckKyc

@(kycID: String, kycChecks: Seq[WorldCheckScreeningCheck], kycList: WorldCheckKyc)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState)

@if(loginState.username == kycList.requester) {
    <ul class="documentList scroller">
        <li>
            <table class="table-scroll small-first-col cmuk-table cmuk-table-divider">
                <tbody>
                    <tr><td colspan="4">@Messages(constants.View.CHECKS):</td></tr>
                    @kycChecks.map { kycCheck =>
                        <tr>
                            <td colspan="4">@Messages(kycCheck.checkType):</td>
                            <td class="cmuk-text-center">
                            @kycCheck.status match {
                                case "APPROVED" => {
                                    <span class="cmuk-badge approve">@constants.View.APPROVED</span>
                                }
                                case "INITIATE" => {
                                    <span class="cmuk-badge approve">@constants.View.INITIATE</span>
                                }
                                case "IN_PROGRESS" => {
                                    <span class="cmuk-badge cmuk-progress">@constants.View.IN_PROGRESS</span>
                                }
                                </td>
                            case _ => {
                                <td colspan="2"></td>
                            }

                            }
                        </tr>
                    }
                </tbody>
            </table>
        </li>
    </ul>
} else {
    @if(loginState.username == kycList.counterParty) {
        <ul class="documentList scroller">
            <li>
                <table class="table-scroll small-first-col cmuk-table cmuk-table-divider">
                    <tbody>
                        <tr><td colspan="4">@Messages(constants.View.CHECKS):</td></tr>
                        @kycChecks.map { kycCheck =>
                            <tr>
                                <td colspan="4">@Messages(kycCheck.checkType):</td>
                                <td class="cmuk-text-center">
                                @kycCheck.status match {
                                    case "APPROVED" => {
                                        <span class="cmuk-badge approve">@constants.View.APPROVED</span>
                                    }
                                    case "PENDING" => {
                                        <span class="cmuk-badge verified">@constants.View.PENDING</span>
                                    }
                                    case "IN_PROGRESS" => {
                                        <span class="cmuk-badge verified">@constants.View.IN_PROGRESS</span>
                                    }
                                    </td>
                                case _ => {
                                    <td colspan="2"></td>
                                }
                                }
                            </tr>
                        }
                    </tbody>
                </table>
            </li>
        </ul>
    }
}