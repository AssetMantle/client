@import helper._
@import views.html.base.buttons._

@(formTemplate: constants.Form, formData: Form[_], target: String = "commonModalContent", customSubmit: JavaScript = JavaScript(""), runBeforeSubmit: JavaScript = JavaScript(""))(fieldset: Html)(implicit messagesProvider: MessagesProvider, requestHeader: RequestHeader)

    @form(action = formTemplate.route, 'onkeypress -> "submitFormOnEnter(event,this)") {
        <fieldset class="cmuk-fieldset cmuk-form-stacked">
            <legend class="cmuk-legend">
            @Messages(formTemplate.legend)
            </legend>
            <hr>
            <div class="formBody" id="formBody">
                @CSRF.formField
                @fieldset
                @if(formData.hasGlobalErrors) {
                    <ul class="signUpErrorList">
                    @for(error <- formData.globalErrors) {
                        <li class="error">@error.format</li>
                    }
                    </ul>
                }
                <div id="formSubmitButton">
                @if(customSubmit != JavaScript("")) {
                    @commonJavascriptButton(formTemplate.submit, customSubmit)
                } else {
                    @commonJavascriptButton(formTemplate.submit, JavaScript(s"$runBeforeSubmit;" + s"submitForm(this, '${target}')"), 'id -> formTemplate.submit.replace("../../../../public", "_"))
                }
                </div>
            </div>
        </fieldset>
    }
