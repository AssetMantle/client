@import views.html.base._
@import helper._


@(formTemplate: constants.Form, formData: Form[_], target: String, pendingBoolean: Option[Boolean])(fieldset: Html)(implicit messagesProvider: MessagesProvider, requestHeader: RequestHeader)

<script src="@routes.Assets.versioned("javascripts/verifyReject.js")" type="text/javascript"></script>
@form(action = formTemplate.route, 'onkeypress -> "submitFormOnEnter(event,this)") {
    <fieldset class="cmuk-fieldset cmuk-form-stacked">
        @CSRF.formField
        @fieldset
        @commonCheckbox(formData, constants.FormField.STATUS, 'containerDivClass -> "hidden")
        @if(formData.hasGlobalErrors) {
            <ul class="signupErrorList">
            @for(error <- formData.globalErrors) {
                <li class="error">@error.format</li>
            }
            </ul>
        }

        @pendingBoolean match {
            case Some(status: Boolean) => {
                @if(status) {
                    <span cmuk-icon="check"></span>
                    @commonJavascriptButton(constants.Form.REJECT, JavaScript(s"verifyRejectCommonForm(this,'${Seq("#", target).mkString("")}',false)"), 'class -> "cmuk-button-danger cmuk-button-small")
                } else {
                    <span cmuk-icon="close"></span>
                    @commonJavascriptButton(constants.Form.APPROVE, JavaScript(s"verifyRejectCommonForm(this,'${Seq("#", target).mkString("")}',true)"), 'class -> "cmuk-button-success cmuk-button-small")
                }
            }
            case None => {
                @commonJavascriptButton(constants.Form.APPROVE, JavaScript(s"verifyRejectCommonForm(this,'${Seq("#", target).mkString("")}',true)"), 'class -> "cmuk-button-success cmuk-button-small")
                @commonJavascriptButton(constants.Form.REJECT, JavaScript(s"verifyRejectCommonForm(this,'${Seq("#", target).mkString("")}',false)"), 'class -> "cmuk-button-danger cmuk-button-small")
            }
        }
    </fieldset>
}